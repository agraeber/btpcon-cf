<h1>Hello BTPcon!</h1>

<p>Why not check out one of these SAP CodeJam repositories?</p>

<ul class="bind-list" data-bind="repos>repos">
    <li>
        <a class="bind-prop" data-bind="repos>html_url"></a>
    </li>
</ul>

<script type="module">
    import { createModel } from "vanilla-data-binding"

    const main = async () => {
        const response = await fetch("/github-api/orgs/SAP-Samples/repos?sort=updated&per_page=100")
        const result = await response.json()
        const repos = result.filter(repo => repo.name.includes("codejam"))
        createModel("repos", { "repos": repos })
    }
    main()
    const user = async () => {
        const response = await fetch("/user-api/currentUser")
        const result = await response.json()
        document.getElementsByTagName("h1")[0].textContent = `Hello ${result.firstname}!`
    }
    user()
</script>